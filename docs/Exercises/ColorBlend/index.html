<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Excercise Color Blend # Exercise 1
Implement other blending modes. Introduction # What is a blending mode? # Blending Modes are mathematical equations that blend layers based on their hue, saturation, luminosity, or a combination of these components.
You can use Blending Modes to apply overlays, textures, or target adjustments to specific areas of your image without creating layer masks.
Blending Modes are an excellent way to create nondestructive effects."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Excercise Color Blend # Exercise 1
Implement other blending modes. Introduction # What is a blending mode? # Blending Modes are mathematical equations that blend layers based on their hue, saturation, luminosity, or a combination of these components.
You can use Blending Modes to apply overlays, textures, or target adjustments to specific areas of your image without creating layer masks.
Blending Modes are an excellent way to create nondestructive effects."><meta property="og:type" content="article"><meta property="og:url" content="https://ctatis1.github.io/showcase/docs/Exercises/ColorBlend/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-18T19:13:43-05:00"><title>Color Blend | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-997e8eead69c824b469bf5769377457d class=toggle checked>
<label for=section-997e8eead69c824b469bf5769377457d class="flex justify-between"><a href=/showcase/docs/Exercises/>Exercises</a></label><ul><li><a href=/showcase/docs/Exercises/ColorBlend/ class=active>Color Blend</a></li><li><a href=/showcase/docs/Exercises/ColorModels/>Color Models</a></li><li><a href=/showcase/docs/Exercises/ImageProcessing/>Image Processing</a></li><li><a href=/showcase/docs/Exercises/Photomosaic/>Photomosaic</a></li><li><a href=/showcase/docs/Exercises/TerrainVisualizationApp/>Terrain Visualization App</a></li><li><a href=/showcase/docs/Exercises/VisualMasking/>Visual Masking</a></li></ul></li><li><input type=checkbox id=section-9370f1a5d0248572ac505e0c6d4ad190 class=toggle>
<label for=section-9370f1a5d0248572ac505e0c6d4ad190 class="flex justify-between"><a href=/showcase/docs/shortcodes/>Shortcodes</a></label><ul><li><a href=/showcase/docs/shortcodes/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/showcase/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tabs/>Tabs</a></li></ul></li><li><input type=checkbox id=section-34e51df5e15571a3bbf4f00725271179 class=toggle>
<label for=section-34e51df5e15571a3bbf4f00725271179 class="flex justify-between"><a href=/showcase/docs/Videos/>Videos</a></label><ul></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Color Blend</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#excercise-color-blend>Excercise Color Blend</a></li><li><a href=#introduction>Introduction</a><ul><li><a href=#what-is-a-blending-mode>What is a blending mode?</a></li></ul></li><li><a href=#solution>Solution</a></li><li><a href=#code>Code</a></li></ul></nav></aside></header><article class=markdown><h1 id=excercise-color-blend>Excercise Color Blend
<a class=anchor href=#excercise-color-blend>#</a></h1><blockquote class="book-hint info"><strong>Exercise 1</strong><br>Implement other blending modes.</blockquote><h1 id=introduction>Introduction
<a class=anchor href=#introduction>#</a></h1><h2 id=what-is-a-blending-mode>What is a blending mode?
<a class=anchor href=#what-is-a-blending-mode>#</a></h2><p>Blending Modes are mathematical equations that blend layers based on their hue, saturation, luminosity, or a combination of these components.</p><p>You can use Blending Modes to apply overlays, textures, or target adjustments to specific areas of your image without creating layer masks.</p><p>Blending Modes are an excellent way to create nondestructive effects. The blend you apply does not change pixels, only the visual output. You can always change or remove the Blending Mode.</p><h1 id=solution>Solution
<a class=anchor href=#solution>#</a></h1><p>In the application that is proposed to be developed, new blending modes are added such as:
Addition, subtraction, multiplication, inverse, lightest and darkest. In each of them, the respective operations are carried out with the RGB values ​​of the selected colors.</p><h1 id=code>Code
<a class=anchor href=#code>#</a></h1><iframe id=breath style=width:410px;height:450px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
let colorShader;
let slider;

function preload() {
   colorShader = readShader('/showcase/content/docs/colorBlend/color.frag',
                          { matrices: Tree.NONE, varyings: Tree.color4 });
}

function setup() {
  // shaders require WEBGL mode to work
  createCanvas(400, 400, WEBGL);
  // Color pickers
  colorPickerA = createColorPicker('yellow');
  colorPickerA.position(5, 5);
  colorPickerB = createColorPicker('cyan');
  colorPickerB.position(80, 5);
  slider = createSlider(0, 255, 200);
  slider.position(160, 200);
  slider.style('width', '80px');
  sel = createSelect();
  sel.position(200, 10);
  sel.option('ADD');
  sel.option('DIFFERENCE');
  sel.option('MULTIPLY');
  sel.option('SCREEN');
  sel.option('LIGHTEST');
  sel.option('DARKEST');
}

function draw() {
  background(0);
  // Update the color variables in the shader
  updateShaderColors();
  // Draw the two regular rectangles
  resetShader();
  fill(colorPickerA.color());
  rect(-150, -150, 100, 100);
  fill(colorPickerB.color());
  rect(0, -150, 100, 100);
  // Draw with blend mode shader
  shader(colorShader);
  beginShape();
  vertex(-0.25, -0.75);
  vertex(-0.25, -0.25);
  vertex(0.25, -0.25);
  vertex(0.25, -0.75);
  endShape(CLOSE);
}

function updateShaderColors(){
    colorShader.setUniform('colorA', [ red(colorPickerA.color())/255,
                                        green(colorPickerA.color())/255,
                                        blue(colorPickerA.color())/255,
                                        alpha(colorPickerA.color())/255]);
    colorShader.setUniform('colorB', [  red(colorPickerB.color())/255,
                                        green(colorPickerB.color())/255,
                                        blue(colorPickerB.color())/255,
                                        alpha(colorPickerB.color())/255]);
    colorShader.setUniform('alphaValue', slider.value()/255.0);
    let item = 1;
    if( sel.value() == 'ADD' ) item = 1;
    else if( sel.value() == 'DIFFERENCE' ) item = 2;
    else if( sel.value() == 'MULTIPLY' ) item = 3;
    else if( sel.value() == 'SCREEN' ) item = 4;
    else if( sel.value() == 'LIGHTEST' ) item = 5;
    else if( sel.value() == 'DARKEST' ) item = 6;
    //print(item);
    colorShader.setUniform('blendMode', item);                                      
}

precision mediump float;

uniform vec4 colorA;
uniform vec4 colorB;
uniform float alphaValue;
uniform int blendMode;

// interpolated color is emitted from the vertex shader
// where the variable is defined in the same exact way
// see your console!
varying vec4 color4;

float luminosity(vec4 color) {
  return (color.r + color.g + color.b)/3.0;
}

void main() {
  if( blendMode == 1 ){ // ADD
    gl_FragColor = (colorA + colorB) * alphaValue;
  }else if( blendMode == 2 ){ // DIFFERENCE
    gl_FragColor = (colorA - colorB) * alphaValue;
  }else if( blendMode == 3 ){ // MULTIPLY
    gl_FragColor = colorA * colorB * alphaValue;
  }else if( blendMode == 4 ){ // SCREEN
    gl_FragColor = (vec4((vec3(1.0) - colorA.rgb), colorA.a) * vec4((vec3(1.0) - colorB.rgb), colorB.a)) * alphaValue;
  }else if( blendMode == 5 ){ // LIGHTEST
    if( luminosity(colorA) >= luminosity(colorB) ) gl_FragColor = colorA * alphaValue;
    else gl_FragColor = colorB * alphaValue;
  }else if( blendMode == 6 ){ // DARKEST
    if( luminosity(colorA) <= luminosity(colorB) ) gl_FragColor = colorA * alphaValue;
    else gl_FragColor = colorB * alphaValue;
  }
}

            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/ctatis1/showcase/commit/540fd77e0d01a263d7ae05843b14425759751d33 title='Last modified by Samuel Salgado | June 19, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 19, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#excercise-color-blend>Excercise Color Blend</a></li><li><a href=#introduction>Introduction</a><ul><li><a href=#what-is-a-blending-mode>What is a blending mode?</a></li></ul></li><li><a href=#solution>Solution</a></li><li><a href=#code>Code</a></li></ul></nav></div></aside></main></body></html>